CREATE DATABASE beautysalonlocaldb2;
USE beautysalonlocaldb2;

CREATE TABLE clients (
    id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    phone VARCHAR(20),
    email VARCHAR(100) UNIQUE,
    date_of_birth DATE,
    notes TEXT
);

CREATE TABLE employees (
    id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    phone VARCHAR(20) NOT NULL,
    position VARCHAR(50) NOT NULL,
    work_book_number VARCHAR(50) NOT NULL
);

CREATE TABLE work_hours (
    id INT PRIMARY KEY AUTO_INCREMENT,
    employee_id INTEGER NOT NULL,
    work_day VARCHAR(50) NOT NULL,
    start_time VARCHAR(50) NOT NULL,
    end_time VARCHAR(50) NOT NULL,
    FOREIGN KEY (employee_id) REFERENCES employees(id)
);

CREATE TABLE services (
    id INT PRIMARY KEY AUTO_INCREMENT,
    service_name VARCHAR(100) NOT NULL,
    description TEXT,
    price DECIMAL(10, 2),
    duration INTEGER
);

CREATE TABLE appointments (
    id INT PRIMARY KEY AUTO_INCREMENT,
    client_id INTEGER NOT NULL,
    employee_id INTEGER NOT NULL,
    service_id INTEGER NOT NULL,
    appointment_date TIMESTAMP NOT NULL,
    start_time TIMESTAMP NOT NULL,
    end_time TIMESTAMP NOT NULL,
    status VARCHAR(20),
    FOREIGN KEY (client_id) REFERENCES clients(id) ON DELETE CASCADE,
    FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE CASCADE
);

-- Вставка данных в таблицы для localdb2
INSERT INTO clients (first_name, last_name, phone, email, date_of_birth, notes) VALUES
('Светлана', 'Александрова', '89991234570', 'svetlana.alexandrova@example.com', '1985-02-14', 'Новый клиент'),
('Андрей', 'Коваленко', '89992345671', 'andrey.kovalenko@example.com', '1991-06-30', 'Предпочитает утренние записи'),
('Елена', 'Семенова', '89993456772', 'elena.semenova@example.com', '1985-08-10', 'Регулярный клиент'),
('Игорь', 'Смирнов', '89994567873', 'igor.smirnov@example.com', '1989-12-05', 'Заботится о здоровье'),
('Людмила', 'Федорова', '89995678974', 'lyudmila.fedorova@example.com', '1993-04-20', 'Рекомендует подругам'),
('Марина', 'Морозова', '89996789075', 'marina.morozova@example.com', '1992-03-18', NULL),
('Анатолий', 'Иванов', '89997890176', 'anatoliy.ivanov@example.com', '1990-09-25', 'Любит акции'),
('Оксана', 'Попова', '89998901277', 'oksana.popova@example.com', '1987-11-21', NULL),
('Дмитрий', 'Кузьмин', '89999012378', 'dmitriy.kuzmin@example.com', '1988-07-12', 'Приходит раз в месяц'),
('Наталья', 'Борисова', '89990123479', 'natalya.borisova@example.com', '1984-10-30', 'Новый клиент'),
('Евгений', 'Клименко', '89991234570', 'evgeny.klimenko@example.com', '1995-01-17', 'Пробует новые услуги'),
('Татьяна', 'Сидорова', '89992345671', 'tatiana.sidorova@example.com', '1994-12-08', NULL),
('Владимир', 'Савельев', '89993456772', 'vladimir.savelev@example.com', '1992-05-02', 'Сложные процедуры'),
('Екатерина', 'Потапова', '89994567873', 'ekaterina.potapova@example.com', '1985-04-16', NULL),
('Кирилл', 'Фролов', '89995678974', 'kirill.frolov@example.com', '1983-03-25', 'Постоянный клиент');

INSERT INTO employees (first_name, last_name, phone, position, work_book_number) VALUES
('Анна', 'Калинина', '89991234570', 'Парикмахер', 'WB026'),
('Василиса', 'Смирнова', '89992345671', 'Косметолог', 'WB027'),
('Николай', 'Петров', '89993456772', 'Массажист', 'WB028'),
('Светлана', 'Иванова', '89994567873', 'Маникюрист', 'WB029'),
('Дмитрий', 'Никитин', '89995678974', 'Визажист', 'WB030'),
('Алексей', 'Григорьев', '89996789075', 'Парикмахер', 'WB031'),
('Екатерина', 'Лукьянова', '89997890176', 'Косметолог', 'WB032'),
('Сергей', 'Сидоров', '89998901277', 'Массажист', 'WB033'),
('Мария', 'Лазарева', '89999012378', 'Мастер по педикюру', 'WB034'),
('Татьяна', 'Иванова', '89990123479', 'Парикмахер', 'WB035'),
('Олег', 'Кузнецов', '89991234570', 'Косметолог', 'WB036'),
('Евгения', 'Федорова', '89992345671', 'Визажист', 'WB037'),
('Денис', 'Попов', '89993456772', 'Массажист', 'WB038'),
('Марина', 'Григорьева', '89994567873', 'Маникюрист', 'WB039'),
('Виктория', 'Александрова', '89995678974', 'Косметолог', 'WB040');

INSERT INTO work_hours (employee_id, work_day, start_time, end_time) VALUES
(1, 'Понедельник', '09:00:00', '17:00:00'),
(2, 'Вторник', '10:00:00', '18:00:00'),
(3, 'Среда', '09:00:00', '17:00:00'),
(4, 'Четверг', '11:00:00', '19:00:00'),
(5, 'Пятница', '08:00:00', '16:00:00'),
(6, 'Суббота', '09:00:00', '17:00:00'),
(7, 'Воскресенье', '10:00:00', '18:00:00'),
(8, 'Понедельник', '09:00:00', '17:00:00'),
(9, 'Вторник', '10:00:00', '18:00:00'),
(10, 'Среда', '09:00:00', '17:00:00'),
(11, 'Четверг', '11:00:00', '19:00:00'),
(12, 'Пятница', '08:00:00', '16:00:00'),
(13, 'Суббота', '09:00:00', '17:00:00'),
(14, 'Воскресенье', '10:00:00', '18:00:00'),
(15, 'Понедельник', '09:00:00', '17:00:00');

INSERT INTO services (id, service_name, description, price, duration) VALUES
(1, 'Стрижка', 'Женская стрижка', 1800.00, 60),
(2, 'Окрашивание', 'Светлое окрашивание', 3500.00, 120),
(3, 'Маникюр', 'Французский маникюр', 1400.00, 60),
(4, 'Педикюр', 'Летний педикюр', 2000.00, 90),
(5, 'Аромамассаж', 'Массаж с эфирными маслами', 3000.00, 90),
(6, 'Увлажняющая маска', 'Маска для глубокого увлажнения', 2500.00, 75),
(7, 'Вечерний макияж', 'Макияж для особых случаев', 2000.00, 90),
(8, 'Снятие лака', 'Снятие старого лака', 300.00, 15),
(9, 'Парафиновые процедуры', 'Парафинотерапия для рук', 1500.00, 60),
(10, 'Секреты длинных волос', 'Услуга для длинных волос', 2200.00, 45),
(11, 'Косметический массаж', 'Лифтинг-массаж лица', 1800.00, 60),
(12, 'Пилинг', 'Глубокий пилинг лица', 2700.00, 45),
(13, 'Ламинирование ресниц', 'Эстетическая услуга для ресниц', 1800.00, 60),
(14, 'Стрижка бороды', 'Формирование бороды', 900.00, 30),
(15, 'Солнечные брови', 'Услуга по коррекции бровей', 1200.00, 30);

INSERT INTO appointments (client_id, employee_id, service_id, appointment_date, start_time, end_time, status) VALUES
(1, 1, 1, '2024-10-01 10:00:00', '2024-10-01 10:00:00', '2024-10-01 11:00:00', 'Забронировано'),
(2, 2, 2, '2024-10-02 11:30:00', '2024-10-02 11:30:00', '2024-10-02 13:30:00', 'Забронировано'),
(3, 3, 3, '2024-10-03 09:00:00', '2024-10-03 09:00:00', '2024-10-03 10:00:00', 'Забронировано'),
(4, 4, 4, '2024-10-04 14:00:00', '2024-10-04 14:00:00', '2024-10-04 15:30:00', 'Забронировано'),
(5, 5, 5, '2024-10-05 12:00:00', '2024-10-05 12:00:00', '2024-10-05 13:30:00', 'Забронировано'),
(6, 6, 6, '2024-10-06 15:00:00', '2024-10-06 15:00:00', '2024-10-06 16:15:00', 'Забронировано'),
(7, 7, 7, '2024-10-07 13:00:00', '2024-10-07 13:00:00', '2024-10-07 14:30:00', 'Забронировано'),
(8, 8, 8, '2024-10-08 11:00:00', '2024-10-08 11:00:00', '2024-10-08 11:15:00', 'Забронировано'),
(9, 9, 9, '2024-10-09 09:30:00', '2024-10-09 09:30:00', '2024-10-09 10:30:00', 'Забронировано'),
(10, 10, 10, '2024-10-10 08:00:00', '2024-10-10 08:00:00', '2024-10-10 08:45:00', 'Забронировано'),
(11, 11, 11, '2024-10-11 16:00:00', '2024-10-11 16:00:00', '2024-10-11 17:00:00', 'Забронировано'),
(12, 12, 12, '2024-10-12 10:30:00', '2024-10-12 10:30:00', '2024-10-12 11:15:00', 'Забронировано'),
(13, 13, 13, '2024-10-13 14:00:00', '2024-10-13 14:00:00', '2024-10-13 15:00:00', 'Забронировано'),
(14, 14, 14, '2024-10-14 09:00:00', '2024-10-14 09:00:00', '2024-10-14 09:30:00', 'Забронировано'),
(15, 15, 15, '2024-10-15 12:30:00', '2024-10-15 12:30:00', '2024-10-15 13:00:00', 'Забронировано');

