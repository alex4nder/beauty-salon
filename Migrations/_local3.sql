-- Создание базы данных localdb3
CREATE DATABASE beautysalonlocaldb3;
USE beautysalonlocaldb3;

-- Создание таблиц
CREATE TABLE clients (
    id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    phone VARCHAR(20),
    email VARCHAR(100) UNIQUE,
    date_of_birth DATE,
    notes TEXT
);

CREATE TABLE employees (
    id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    phone VARCHAR(20) NOT NULL,
    position VARCHAR(50) NOT NULL,
    work_book_number VARCHAR(50) NOT NULL
);

CREATE TABLE work_hours (
    id INT PRIMARY KEY AUTO_INCREMENT,
    employee_id INTEGER NOT NULL,
    work_day VARCHAR(50) NOT NULL,
    start_time VARCHAR(50) NOT NULL,
    end_time VARCHAR(50) NOT NULL,
    FOREIGN KEY (employee_id) REFERENCES employees(id)
);

CREATE TABLE services (
    id INT PRIMARY KEY AUTO_INCREMENT,
    service_name VARCHAR(100) NOT NULL,
    description TEXT,
    price DECIMAL(10, 2),
    duration INTEGER
);

CREATE TABLE appointments (
    id INT PRIMARY KEY AUTO_INCREMENT,
    client_id INTEGER NOT NULL,
    employee_id INTEGER NOT NULL,
    service_id INTEGER NOT NULL,
    appointment_date TIMESTAMP NOT NULL,
    start_time TIMESTAMP NOT NULL,
    end_time TIMESTAMP NOT NULL,
    status VARCHAR(20),
    FOREIGN KEY (client_id) REFERENCES clients(id) ON DELETE CASCADE,
    FOREIGN KEY (employee_id) REFERENCES employees(id) ON DELETE CASCADE,
    FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE CASCADE
);

-- Вставка данных в таблицы для localdb3
INSERT INTO clients (first_name, last_name, phone, email, date_of_birth, notes) VALUES
('Наталья', 'Серова', '89991234580', 'natalya.serova@example.com', '1986-01-12', 'Новый клиент'),
('Роман', 'Степанов', '89992345681', 'roman.stepanov@example.com', '1990-05-15', 'Регулярный клиент'),
('Анастасия', 'Романова', '89993456782', 'anastasia.romanova@example.com', '1987-07-20', NULL),
('Константин', 'Гордеев', '89994567883', 'konstantin.gordejev@example.com', '1992-08-22', 'Пробует новые услуги'),
('Виктория', 'Михайлова', '89995678984', 'victoria.mikhaylova@example.com', '1994-04-28', 'Рекомендует подругам'),
('Алексей', 'Давыдов', '89996789085', 'aleksey.davyidov@example.com', '1991-03-11', NULL),
('Ирина', 'Сидорова', '89997890186', 'irina.sidorova@example.com', '1989-06-05', 'Пробует новые техники'),
('Егор', 'Соловьев', '89998901287', 'egor.solovyev@example.com', '1988-09-30', NULL),
('Татьяна', 'Федосеева', '89999012388', 'tatiana.fedoseeva@example.com', '1985-12-01', 'Заботится о здоровье'),
('Денис', 'Калинин', '89990123489', 'denis.kalinin@example.com', '1983-11-22', 'Частый клиент'),
('Анжела', 'Калинина', '89991234580', 'anjela.kalinina@example.com', '1986-07-14', NULL),
('Светлана', 'Кузьмина', '89992345681', 'svetlana.kuzmina@example.com', '1992-02-18', 'Регулярный клиент'),
('Георгий', 'Филимонов', '89993456782', 'georgiy.filimonov@example.com', '1985-03-20', NULL),
('Валентина', 'Левитина', '89994567883', 'valentina.levitina@example.com', '1994-05-12', 'Посещает раз в полгода'),
('Ольга', 'Долгова', '89995678984', 'olga.dolgova@example.com', '1988-01-27', 'Подруга - постоянный клиент');

INSERT INTO employees (first_name, last_name, phone, position, work_book_number) VALUES
('Светлана', 'Васильева', '89991234580', 'Парикмахер', 'WB041'),
('Марина', 'Серова', '89992345681', 'Косметолог', 'WB042'),
('Дмитрий', 'Белов', '89993456782', 'Массажист', 'WB043'),
('Ольга', 'Шаповалова', '89994567883', 'Маникюрист', 'WB044'),
('Иван', 'Тимофеев', '89995678984', 'Визажист', 'WB045'),
('Елена', 'Кочетова', '89996789085', 'Парикмахер', 'WB046'),
('Евгений', 'Васильев', '89997890186', 'Косметолог', 'WB047'),
('Лариса', 'Степанова', '89998901287', 'Массажист', 'WB048'),
('Тимур', 'Климов', '89999012388', 'Мастер по педикюру', 'WB049'),
('Кристина', 'Семенова', '89990123489', 'Парикмахер', 'WB050'),
('Сергей', 'Слепцов', '89991234580', 'Косметолог', 'WB051'),
('Яна', 'Горбунова', '89992345681', 'Визажист', 'WB052'),
('Артем', 'Алексеев', '89993456782', 'Массажист', 'WB053'),
('Татьяна', 'Зайцева', '89994567883', 'Маникюрист', 'WB054'),
('Ирина', 'Кабанова', '89995678984', 'Косметолог', 'WB055');

INSERT INTO work_hours (employee_id, work_day, start_time, end_time) VALUES
(1, 'Понедельник', '10:00:00', '18:00:00'),
(2, 'Вторник', '11:00:00', '19:00:00'),
(3, 'Среда', '09:00:00', '17:00:00'),
(4, 'Четверг', '12:00:00', '20:00:00'),
(5, 'Пятница', '08:00:00', '16:00:00'),
(6, 'Суббота', '09:00:00', '17:00:00'),
(7, 'Воскресенье', '10:00:00', '18:00:00'),
(8, 'Понедельник', '09:00:00', '17:00:00'),
(9, 'Вторник', '10:00:00', '18:00:00'),
(10, 'Среда', '09:00:00', '17:00:00'),
(11, 'Четверг', '12:00:00', '20:00:00'),
(12, 'Пятница', '08:00:00', '16:00:00'),
(13, 'Суббота', '09:00:00', '17:00:00'),
(14, 'Воскресенье', '10:00:00', '18:00:00'),
(15, 'Понедельник', '09:00:00', '17:00:00');

INSERT INTO services (id, service_name, description, price, duration) VALUES
(1, 'Окрашивание волос', 'Модное окрашивание', 3800.00, 120),
(2, 'Стрижка под машинку', 'Стрижка для мужчин', 1500.00, 30),
(3, 'Бразильская эпиляция', 'Эпиляция на 6 недель', 3000.00, 60),
(4, 'Укладка волос', 'Укладка для особых случаев', 2500.00, 90),
(5, 'Услуга по наращиванию ресниц', 'Наращивание ресниц', 3500.00, 150),
(6, 'Пилинг для тела', 'Очищающий пилинг для тела', 4000.00, 120),
(7, 'Лечебный массаж', 'Массаж для восстановления', 3300.00, 90),
(8, 'Коррекция бровей', 'Форма для бровей', 1200.00, 30),
(9, 'Уход за лицом', 'Процедура для лица', 3000.00, 75),
(10, 'Шугаринг', 'Эпиляция сахаром', 2000.00, 60),
(11, 'Ароматерапия', 'Массаж с эфирными маслами', 3500.00, 90),
(12, 'Соляная пещера', 'Соляная терапия', 5000.00, 60),
(13, 'Флористика', 'Услуга по флористике', 3500.00, 120),
(14, 'Очищающая маска', 'Маска для очищения кожи', 1000.00, 30),
(15, 'Стрижка для детей', 'Детская стрижка', 800.00, 45);

INSERT INTO appointments (client_id, employee_id, service_id, appointment_date, start_time, end_time, status) VALUES
(1, 1, 1, '2024-10-20 10:00:00', '2024-10-20 10:00:00', '2024-10-20 12:00:00', 'Забронировано'),
(2, 2, 2, '2024-10-21 11:00:00', '2024-10-21 11:00:00', '2024-10-21 11:30:00', 'Забронировано'),
(3, 3, 3, '2024-10-22 14:00:00', '2024-10-22 14:00:00', '2024-10-22 15:00:00', 'Забронировано'),
(4, 4, 4, '2024-10-23 13:00:00', '2024-10-23 13:00:00', '2024-10-23 14:30:00', 'Забронировано'),
(5, 5, 5, '2024-10-24 15:00:00', '2024-10-24 15:00:00', '2024-10-24 16:30:00', 'Забронировано'),
(6, 6, 6, '2024-10-25 10:30:00', '2024-10-25 10:30:00', '2024-10-25 11:30:00', 'Забронировано'),
(7, 7, 7, '2024-10-26 12:00:00', '2024-10-26 12:00:00', '2024-10-26 13:30:00', 'Забронировано'),
(8, 8, 8, '2024-10-27 09:30:00', '2024-10-27 09:30:00', '2024-10-27 09:50:00', 'Забронировано'),
(9, 9, 9, '2024-10-28 11:00:00', '2024-10-28 11:00:00', '2024-10-28 12:15:00', 'Забронировано'),
(10, 10, 10, '2024-10-29 08:00:00', '2024-10-29 08:00:00', '2024-10-29 09:00:00', 'Забронировано'),
(11, 11, 11, '2024-10-30 15:00:00', '2024-10-30 15:00:00', '2024-10-30 16:00:00', 'Забронировано'),
(12, 12, 12, '2024-10-31 10:30:00', '2024-10-31 10:30:00', '2024-10-31 11:15:00', 'Забронировано'),
(13, 13, 13, '2024-11-01 14:00:00', '2024-11-01 14:00:00', '2024-11-01 15:00:00', 'Забронировано'),
(14, 14, 14, '2024-11-02 09:00:00', '2024-11-02 09:00:00', '2024-11-02 09:30:00', 'Забронировано'),
(15, 15, 15, '2024-11-03 12:30:00', '2024-11-03 12:30:00', '2024-11-03 13:00:00', 'Забронировано');
